import{a as q}from"./chunk-CODZPXZ7.js";import{l as H}from"./chunk-FRTIDM5M.js";import{a as R}from"./chunk-U7ORV3TA.js";import{b as D,d as N,f as B,n as P}from"./chunk-Y4YVEZW5.js";import{a as G}from"./chunk-4PDPG5IP.js";import{a as U}from"./chunk-TZDLMB3W.js";import{f as V,i as j,u as z}from"./chunk-4IG42SO7.js";import{$a as M,Ab as L,Ia as l,Ja as v,Ma as _,Sa as m,Va as w,Za as c,_a as o,a as b,b as h,da as T,db as O,ga as y,hb as u,ia as x,ib as S,ja as g,ka as A,la as E,nb as a,pb as C,qb as k,ub as I,zb as F}from"./chunk-MXAX4ZQ5.js";var X=(()=>{let i=class i{transform(n,e,t){let s,p;return t==="true"?s=!0:t==="false"?s=!1:s=null,s!==null?p=n.filter(f=>f.activo==s):s===null&&(p=n),e=e.toLocaleLowerCase(),e.length!==0?p.filter(f=>f.descripcion.toLocaleLowerCase().includes(e)):p}};i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=y({name:"filtroTiposOrdenesServicio",type:i,pure:!0,standalone:!0});let r=i;return r})();function K(r,i){if(r&1&&(c(0,"div",14)(1,"div",15)(2,"p",16),a(3," Fecha de alta "),o(),c(4,"div",17),a(5),F(6,"fecha"),o()(),c(7,"div",18)(8,"p",16),a(9," Usuario creador "),o(),c(10,"div",19),a(11),o()()()),r&2){let d=S();l(5),C(" ",L(6,3,d.tiposOrdenServicioService.tipoSeleccionado.createdAt)," "),l(6),k(" ",d.tiposOrdenServicioService.tipoSeleccionado.creatorUser.apellido.toLowerCase()," ",d.tiposOrdenServicioService.tipoSeleccionado.creatorUser.nombre.toLowerCase()," ")}}function Q(r,i){if(r&1){let d=O();c(0,"button",20),u("click",function(){x(d);let e=S();return g(e.nuevoTipo())}),a(1," Crear tipo "),o()}}function W(r,i){if(r&1){let d=O();c(0,"button",21),u("click",function(){x(d);let e=S();return g(e.actualizarTipo())}),a(1," Actualizar tipo "),o()}}var pe=(()=>{let i=class i{constructor(n,e,t){this.authService=n,this.alertService=e,this.tiposOrdenServicioService=t,this.insertEvent=new _,this.updateEvent=new _}ngOnInit(){}nuevoTipo(){if(this.tiposOrdenServicioService.abmForm.descripcion==="")return this.alertService.info("La descripci\xF3n es obligatoria");this.alertService.loading();let n=h(b({},this.tiposOrdenServicioService.abmForm),{creatorUserId:this.authService.usuario.userId});this.tiposOrdenServicioService.nuevoTipo(n).subscribe({next:({tipo:e})=>{this.insertEvent.emit(e),this.tiposOrdenServicioService.showModalAbm=!1},error:({error:e})=>this.alertService.errorApi(e.message)})}actualizarTipo(){if(this.tiposOrdenServicioService.abmForm.descripcion==="")return this.alertService.info("La descripci\xF3n es obligatoria");this.alertService.loading();let n=h(b({},this.tiposOrdenServicioService.abmForm),{creatorUserId:this.authService.usuario.userId});this.tiposOrdenServicioService.actualizarTipo(this.tiposOrdenServicioService.tipoSeleccionado.id,n).subscribe({next:({tipo:e})=>{this.updateEvent.emit(e),this.tiposOrdenServicioService.showModalAbm=!1},error:({error:e})=>this.alertService.errorApi(e.message)})}submit(){this.tiposOrdenServicioService.estadoAbm==="crear"?this.nuevoTipo():this.actualizarTipo()}};i.\u0275fac=function(e){return new(e||i)(v(U),v(G),v(q))},i.\u0275cmp=T({type:i,selectors:[["app-abm-tipo-orden-servicio"]],outputs:{insertEvent:"insertEvent",updateEvent:"updateEvent"},standalone:!0,features:[I],decls:18,vars:6,consts:[[3,"showModal"],[1,"flex","items-center","justify-between","bg-gray-800","rounded-t","p-2"],[1,"text-white","px-2","py-1","rounded-t","text-lg"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"cursor-pointer","feather","feather-x","text-white","mr-2",3,"click"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"px-4","pt-2","max-h-96","overflow-y-auto","text-sm"],[1,"font-semibold"],[1,"text-red-500"],["placeholder","Ej. Firma digital","type","text",1,"input-generico","w-full","mt-2","mb-2",3,"ngModel","keyup.enter","ngModelChange"],["class","xl:flex items-center",4,"ngIf"],[1,"px-4","pb-2"],["class","boton-crear w-full mt-1",3,"click",4,"ngIf"],["class","boton-editar w-full mt-4",3,"click",4,"ngIf"],[1,"xl:flex","items-center"],[1,"xl:w-1/2"],[1,"font-semibold","text-sm"],[1,"border","text-sm","mt-2","border-gray-400","rounded","p-2","bg-gray-100"],[1,"xl:ml-4","xl:w-1/2","xl:mt-0"],[1,"border","text-sm","capitalize","mt-2","border-gray-400","rounded","p-2","bg-gray-100"],[1,"boton-crear","w-full","mt-1",3,"click"],[1,"boton-editar","w-full","mt-4",3,"click"]],template:function(e,t){e&1&&(c(0,"app-modal",0)(1,"div")(2,"div",1)(3,"h1",2),a(4),o(),A(),c(5,"svg",3),u("click",function(){return t.tiposOrdenServicioService.showModalAbm=!1}),M(6,"line",4)(7,"line",5),o()(),E(),c(8,"div",6)(9,"p",7)(10,"span",8),a(11," * "),o(),a(12," Descripci\xF3n "),o(),c(13,"input",9),u("keyup.enter",function(){return t.submit()})("ngModelChange",function(p){return t.tiposOrdenServicioService.abmForm.descripcion=p}),o(),w(14,K,12,5,"div",10),o(),c(15,"div",11),w(16,Q,2,0,"button",12)(17,W,2,0,"button",13),o()()()),e&2&&(m("showModal",t.tiposOrdenServicioService.showModalAbm),l(4),C(" ",t.tiposOrdenServicioService.estadoAbm=="crear"?"Creando tipo":"Editando tipo"," "),l(9),m("ngModel",t.tiposOrdenServicioService.abmForm.descripcion),l(),m("ngIf",t.tiposOrdenServicioService.tipoSeleccionado&&t.tiposOrdenServicioService.estadoAbm==="editar"),l(2),m("ngIf",t.tiposOrdenServicioService.estadoAbm=="crear"),l(),m("ngIf",t.tiposOrdenServicioService.estadoAbm=="editar"))},dependencies:[j,V,P,D,N,B,H,R,z],encapsulation:2});let r=i;return r})();export{X as a,pe as b};
