import{a as Y,b as ee}from"./chunk-H44BZXBW.js";import{a as Z}from"./chunk-7D7S4T67.js";import{l as R}from"./chunk-Y76AUCL5.js";import{a as J,b as K}from"./chunk-EFYJUGU6.js";import{a as U,b as W,c as X}from"./chunk-ZNZG7IEL.js";import"./chunk-MTUTGAVF.js";import{d as z,f as L,j as N,k as D,l as $,n as H}from"./chunk-XK7VQCTR.js";import{a as q}from"./chunk-IZVGSZFI.js";import"./chunk-BPTFILPP.js";import{a as Q}from"./chunk-PSNAPTFY.js";import"./chunk-FLY4BXSB.js";import{f as F,i as B,u as G}from"./chunk-ADCDB4OU.js";import{$a as c,Ab as C,Bb as M,Cb as j,Db as P,Ia as s,Ja as y,Sa as m,Va as S,Xa as I,Ya as O,Za as e,_a as t,da as E,db as w,hb as u,ia as _,ib as x,ja as h,ka as d,la as b,mb as k,nb as l,pb as T,ub as A,wb as V}from"./chunk-75MKQ6H5.js";function te(n,r){n&1&&(d(),e(0,"svg",49),c(1,"polyline",50),t())}function ie(n,r){n&1&&(d(),e(0,"svg",51),c(1,"polyline",52),t())}function ne(n,r){n&1&&(d(),e(0,"svg",53),c(1,"line",54),t())}function re(n,r){n&1&&(d(),e(0,"svg",49),c(1,"polyline",50),t())}function oe(n,r){n&1&&(d(),e(0,"svg",51),c(1,"polyline",52),t())}function ae(n,r){n&1&&(d(),e(0,"svg",53),c(1,"line",54),t())}function le(n,r){n&1&&(d(),e(0,"svg",49),c(1,"polyline",50),t())}function se(n,r){n&1&&(d(),e(0,"svg",51),c(1,"polyline",52),t())}function ce(n,r){n&1&&(d(),e(0,"svg",53),c(1,"line",54),t())}var pe=(n,r)=>r.id;function de(n,r){if(n&1){let p=w();e(0,"tr",55)(1,"td",56),c(2,"img",57),t(),e(3,"td",56)(4,"p",58),l(5),t()(),e(6,"td",56)(7,"p",59),l(8),C(9,"fecha"),t()(),e(10,"td",56)(11,"app-pastilla-estado",60),u("click",function(){let i=_(p).$implicit,f=x(2);return h(f.actualizarEstado(i))}),t()(),e(12,"td",61)(13,"span",62)(14,"button",63),u("click",function(){let i=_(p).$implicit,f=x(2);return h(f.abrirAbm("editar",i))}),d(),e(15,"svg",7),c(16,"path",64),t()()()()()}if(n&2){let p=r.$implicit;s(5),T(" ",p.descripcion," "),s(3),T(" ",M(9,3,p.createdAt)," "),s(3),m("activo",p.activo)}}function me(n,r){n&1&&(e(0,"tr",65),l(1," a "),t(),e(2,"tr",66)(3,"td",67),l(4," No se encontraron tipos "),t()())}var ue=(n,r)=>({itemsPerPage:n,currentPage:r});function ve(n,r){if(n&1&&(e(0,"tbody"),I(1,de,17,5,"tr",68,pe,!1,me,5,0),C(4,"paginate"),C(5,"filtroTiposOrdenesServicio"),t()),n&2){let p=x();s(),O(j(4,1,P(5,4,p.tiposService.tipos,p.filtro.parametro,p.filtro.activo),V(8,ue,p.cantidadItems,p.paginaActual)))}}function ge(n,r){if(n&1){let p=w();e(0,"div",69)(1,"pagination-controls",70),u("pageChange",function(a){_(p);let i=x();return h(i.paginaActual=a)}),t()()}}var Pe=(()=>{let r=class r{constructor(o,a,i){this.tiposService=o,this.alertService=a,this.dataService=i,this.paginaActual=1,this.cantidadItems=10,this.filtro={activo:"true",parametro:""},this.ordenar={direccion:"desc",columna:"descripcion"}}ngOnInit(){this.dataService.ubicacionActual="Dashboard - Tipos de orden",this.alertService.loading(),this.listarTipos()}abrirAbm(o,a=null){this.tiposService.abrirAbm(o,a)}nuevoTipo(o){this.tiposService.tipos=[o,...this.tiposService.tipos],this.alertService.close()}actualizarTipo(o){let a=this.tiposService.tipos.findIndex(i=>i.id===o.id);this.tiposService.tipos[a]=o,this.tiposService.tipos=[...this.tiposService.tipos],this.alertService.close()}listarTipos(){let o={direccion:this.ordenar.direccion,columna:this.ordenar.columna};this.tiposService.listarTipos(o).subscribe({next:({tipos:a})=>{this.tiposService.tipos=a,this.alertService.close()},error:({error:a})=>this.alertService.errorApi(a.message)})}actualizarEstado(o){let{id:a,activo:i}=o;this.alertService.question({msg:"\xBFQuieres actualizar el estado?",buttonText:"Actualizar"}).then(({isConfirmed:f})=>{f&&(this.alertService.loading(),this.tiposService.actualizarTipo(a,{activo:!i}).subscribe({next:()=>{this.listarTipos()},error:({error:v})=>this.alertService.errorApi(v.message)}))})}filtrarActivos(o){this.paginaActual=1,this.filtro.activo=o}filtrarParametro(o){this.paginaActual=1,this.filtro.parametro=o}ordenarPorColumna(o){this.ordenar.columna=o,this.ordenar.direccion=this.ordenar.direccion=="asc"?"desc":"asc",this.alertService.loading(),this.listarTipos()}};r.\u0275fac=function(a){return new(a||r)(y(Z),y(q),y(Q))},r.\u0275cmp=E({type:r,selectors:[["app-tipos-orden-servicio"]],standalone:!0,features:[A],decls:82,vars:13,consts:[[3,"insertEvent","updateEvent"],[1,"md:max-w-7xl","mx-auto"],[1,"container","mx-auto"],[1,"flex","items-center","justify-between","bg-gray-800","px-4","py-3","rounded-t"],[1,"ml-2","text-white"],[1,"text-xl","md:text-2xl","leading-tight"],["title","Nuevo tipo",1,"boton-nuevo-header",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","d","M12 4.5v15m7.5-7.5h-15"],[1,"md:flex","md:items-center","md:justify-between","px-4","py-2"],[1,"my-2","flex","sm:flex-row","flex-col"],[1,"flex","flex-row","mb-1","sm:mb-0"],[1,"relative","w-full","md:w-auto"],[1,"h-full","text-sm","rounded-r","border-t","border-l","rounded-l","sm:rounded-r-none","sm:border-r-0","border-r","border-b","block","appearance-none","w-full","bg-white","border-gray-400","text-gray-700","py-2","px-4","pr-8","leading-tight","focus:outline-none","focus:border-l","focus:border-r","focus:bg-white","focus:border-gray-500",3,"change"],["txtActivo",""],["value","true"],["value","false"],["value",""],[1,"pointer-events-none","absolute","inset-y-0","right-0","flex","items-center","px-2","text-gray-700"],["viewBox","0 0 20 20",1,"fill-current","h-4","w-4"],["d","M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"],[1,"block","relative"],[1,"h-full","absolute","inset-y-0","left-0","flex","items-center","pl-2"],["viewBox","0 0 24 24",1,"h-4","w-4","fill-current","text-gray-500","cursor-pointer","hover:text-secondary-500"],["d","M10 4a6 6 0 100 12 6 6 0 000-12zm-8 6a8 8 0 1114.32 4.906l5.387 5.387a1 1 0 01-1.414 1.414l-5.387-5.387A8 8 0 012 10z"],["placeholder","Buscar",1,"appearance-none","rounded-r","rounded-l","sm:rounded-l-none","border","border-gray-400","border-b","block","pl-8","pr-6","py-2","w-full","bg-white","text-sm","placeholder-gray-400","text-gray-700","focus:bg-white","focus:placeholder-gray-600","focus:text-gray-700","focus:outline-none",3,"keyup"],["txtParametro",""],[1,"bg-white","text-sm","focus:outline-none","w-full","md:w-max","px-2","py-2","md:py-0","md:ml-2","mt-2","md:mt-0","border","text-gray-600","border-gray-400","rounded",3,"ngModel","change","ngModelChange"],["value","10"],["value","20"],["value","50"],["value","100"],[1,"px-4","py-2","overflow-x-auto"],[1,"inline-block","max-h-96","overflow-y-auto","min-w-full","pb-5"],[1,"min-w-full","leading-normal"],[1,"border"],[1,"px-5","py-2","border-b-2","border-gray-200","bg-gray-100","text-left","text-sm","font-semibold","text-gray-900","tracking-wider"],[1,"flex","items-center","focus:outline-none"],[1,"cursor-pointer","flex","items-center","focus:outline-none",3,"click"],[1,"ml-2","text-gray-600"],["width","15","height","15","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","class","feather feather-chevron-down",4,"ngIf"],["width","15","height","15","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","class","feather feather-chevron-up",4,"ngIf"],["width","15","height","15","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","class","feather feather-minus",4,"ngIf"],[1,"px-5","border-b-2","border-gray-200","bg-gray-100","text-sm","font-semibold","text-gray-900","tracking-wider"],[1,"cursor-pointer","w-max","flex","items-center","justify-center","focus:outline-none",3,"click"],[1,"ml-2"],[1,"px-5","border-b-2","border-gray-200","bg-gray-100","text-center","text-sm","font-semibold","text-gray-900","tracking-wider"],[4,"ngIf"],["class","px-5 text-sm py-5 mt-4 bg-white border-t flex shadow flex-col xs:flex-row items-center xs:justify-between",4,"ngIf"],["width","15","height","15","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-chevron-down"],["points","6 9 12 15 18 9"],["width","15","height","15","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-chevron-up"],["points","18 15 12 9 6 15"],["width","15","height","15","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-minus"],["x1","5","y1","12","x2","19","y2","12"],[1,"animate__animated","animate__fadeIn","hover:bg-gray-50"],[1,"px-5","py-2","border-b","border-gray-200","text-xs"],["src","assets/svg/tipo-solicitud.svg","alt","",1,"w-12"],[1,"text-gray-900","w-max","whitespace-no-wrap"],[1,"text-gray-900","whitespace-no-wrap"],[3,"activo","click"],[1,"px-5","py-2","border-b","border-gray-200","text-xs","text-center"],[1,"flex","items-center","justify-center","text-gray-900","whitespace-no-wrap"],["title","Editar tipo",1,"boton-editar","ml-2",3,"click"],["stroke-linecap","round","stroke-linejoin","round","d","M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"],[1,"p-4","text-white"],[1,"w-full"],["colspan","4",1,"text-gray-500","text-sm","p-2","border","border-gray-300","text-center","bg-gray-50","mt-4"],["class","animate__animated animate__fadeIn hover:bg-gray-50"],[1,"px-5","text-sm","py-5","mt-4","bg-white","border-t","flex","shadow","flex-col","xs:flex-row","items-center","xs:justify-between"],["nextLabel","Siguiente","previousLabel","Anterior",3,"pageChange"]],template:function(a,i){if(a&1){let f=w();e(0,"app-abm-tipo-orden-servicio",0),u("insertEvent",function(g){return i.nuevoTipo(g)})("updateEvent",function(g){return i.actualizarTipo(g)}),t(),e(1,"div",1)(2,"app-tarjeta-lista")(3,"div",2)(4,"div")(5,"div",3)(6,"div",4)(7,"h2",5),l(8," Tipos de ordenes "),t(),e(9,"p"),l(10),t()(),e(11,"div")(12,"button",6),u("click",function(){return i.abrirAbm("crear")}),d(),e(13,"svg",7),c(14,"path",8),t()()()(),b(),e(15,"div",9)(16,"div",10)(17,"div",11)(18,"div",12)(19,"select",13,14),u("change",function(){_(f);let g=k(20);return h(i.filtrarActivos(g.value))}),e(21,"option",15),l(22," Activos "),t(),e(23,"option",16),l(24," Inactivos "),t(),e(25,"option",17),l(26," Todos "),t()(),e(27,"div",18),d(),e(28,"svg",19),c(29,"path",20),t()()()(),b(),e(30,"div",21)(31,"span",22),d(),e(32,"svg",23),c(33,"path",24),t()(),b(),e(34,"input",25,26),u("keyup",function(){_(f);let g=k(35);return h(i.filtrarParametro(g.value))}),t()(),e(36,"select",27),u("change",function(){return i.paginaActual=1})("ngModelChange",function(g){return i.cantidadItems=g}),e(37,"option",28),l(38," 10 elementos "),t(),e(39,"option",29),l(40," 20 elementos "),t(),e(41,"option",30),l(42," 50 elementos "),t(),e(43,"option",31),l(44," 100 elementos "),t()()()(),e(45,"div",32)(46,"div",33)(47,"table",34)(48,"thead")(49,"tr",35)(50,"th",36)(51,"div",37)(52,"span"),l(53," Imagen "),t()()(),e(54,"th",36)(55,"div",38),u("click",function(){return i.ordenarPorColumna("descripcion")}),e(56,"span"),l(57," Descripci\xF3n "),t(),e(58,"span",39),S(59,te,2,0,"svg",40)(60,ie,2,0,"svg",41)(61,ne,2,0,"svg",42),t()()(),e(62,"th",43)(63,"div",44),u("click",function(){return i.ordenarPorColumna("createdAt")}),e(64,"span"),l(65," Fecha de creaci\xF3n "),t(),e(66,"span",45),S(67,re,2,0,"svg",40)(68,oe,2,0,"svg",41)(69,ae,2,0,"svg",42),t()()(),e(70,"th",46)(71,"div",38),u("click",function(){return i.ordenarPorColumna("activo")}),e(72,"span"),l(73," Estado "),t(),e(74,"span",45),S(75,le,2,0,"svg",40)(76,se,2,0,"svg",41)(77,ce,2,0,"svg",42),t()()(),e(78,"th",46),l(79," Acci\xF3n "),t()()(),S(80,ve,6,11,"tbody",47),t()()()(),S(81,ge,2,0,"div",48),t()()()}a&2&&(s(10),T(" Total de ordenes: ",i.tiposService.tipos.length," "),s(26),m("ngModel",i.cantidadItems),s(23),m("ngIf",i.ordenar.columna=="descripcion"&&i.ordenar.direccion=="asc"),s(),m("ngIf",i.ordenar.columna=="descripcion"&&i.ordenar.direccion=="desc"),s(),m("ngIf",i.ordenar.columna!="descripcion"),s(6),m("ngIf",i.ordenar.columna=="createdAt"&&i.ordenar.direccion=="asc"),s(),m("ngIf",i.ordenar.columna=="createdAt"&&i.ordenar.direccion=="desc"),s(),m("ngIf",i.ordenar.columna!="createdAt"),s(6),m("ngIf",i.ordenar.columna=="activo"&&i.ordenar.direccion=="asc"),s(),m("ngIf",i.ordenar.columna=="activo"&&i.ordenar.direccion=="desc"),s(),m("ngIf",i.ordenar.columna!="activo"),s(3),m("ngIf",i.tiposService.tipos),s(),m("ngIf",i.tiposService.tipos.length>i.cantidadItems))},dependencies:[B,F,H,D,$,N,z,L,R,X,U,W,G,K,J,Y,ee],encapsulation:2});let n=r;return n})();export{Pe as default};
