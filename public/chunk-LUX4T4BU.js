import"./chunk-YIRHYSDU.js";import{a as U}from"./chunk-QF2SE2FH.js";import"./chunk-6WTSTGEY.js";import{a as W}from"./chunk-EU4DQKFS.js";import{a as Q}from"./chunk-ELDJLL64.js";import"./chunk-Y76AUCL5.js";import{a as $}from"./chunk-Y3B4G36I.js";import{a as q,b as J,c as K}from"./chunk-JLSB7VRZ.js";import"./chunk-6XQQBANU.js";import{b as G,d as F,f as L,j as N,k as D,l as H,n as z}from"./chunk-VPZWFYDW.js";import{a as R}from"./chunk-IZVGSZFI.js";import"./chunk-BPTFILPP.js";import{a as Z}from"./chunk-PSNAPTFY.js";import{a as V}from"./chunk-YTKP2FMU.js";import{d as T,f as B,i as P,r as A,u as O}from"./chunk-GB7V6XFW.js";import{$a as l,Ab as S,Bb as I,Cb as y,Ia as o,Ja as _,Sa as a,Va as f,Xa as w,Ya as C,Za as e,_a as t,da as b,hb as g,ka as s,la as x,nb as d,pb as u,ub as k,vb as M,xb as E,yb as j}from"./chunk-75MKQ6H5.js";var X=(i,r)=>r.id;function Y(i,r){i&1&&(s(),e(0,"svg",38),l(1,"polyline",39),t())}function ee(i,r){i&1&&(s(),e(0,"svg",40),l(1,"polyline",41),t())}function te(i,r){i&1&&(s(),e(0,"svg",42),l(1,"line",43),t())}function ne(i,r){i&1&&(s(),e(0,"svg",38),l(1,"polyline",39),t())}function ie(i,r){i&1&&(s(),e(0,"svg",40),l(1,"polyline",41),t())}function re(i,r){i&1&&(s(),e(0,"svg",42),l(1,"line",43),t())}function oe(i,r){i&1&&(s(),e(0,"svg",38),l(1,"polyline",39),t())}function ae(i,r){i&1&&(s(),e(0,"svg",40),l(1,"polyline",41),t())}function le(i,r){i&1&&(s(),e(0,"svg",42),l(1,"line",43),t())}function de(i,r){i&1&&(s(),e(0,"svg",38),l(1,"polyline",39),t())}function se(i,r){i&1&&(s(),e(0,"svg",40),l(1,"polyline",41),t())}function me(i,r){i&1&&(s(),e(0,"svg",42),l(1,"line",43),t())}function ce(i,r){i&1&&(s(),e(0,"svg",38),l(1,"polyline",39),t())}function pe(i,r){i&1&&(s(),e(0,"svg",40),l(1,"polyline",41),t())}function ge(i,r){i&1&&(s(),e(0,"svg",42),l(1,"line",43),t())}var ve=(i,r,c,m)=>({"bg-yellow-500":i,"bg-red-500":r,"bg-green-700":c,"bg-blue-500":m}),ue=i=>["/dashboard/ordenServicio/detalles",i];function fe(i,r){if(i&1&&(e(0,"tr",44)(1,"td",45)(2,"p",46),d(3),t()(),e(4,"td",45)(5,"p",46),d(6),S(7,"fechaHora"),t()(),e(8,"td",45)(9,"p",47),d(10),S(11,"limitarString"),t()(),e(12,"td",45)(13,"p",48),d(14),t()(),e(15,"td",45)(16,"p",49),d(17),t()(),e(18,"td",50)(19,"span",51)(20,"button",52),s(),e(21,"svg",6),l(22,"path",53)(23,"path",54),t()()()()()),i&2){let c=r.$implicit;o(3),u(" ",c.id," "),o(3),u(" ",I(7,8,c.createdAt)," "),o(3),a("title",c.dependencia.nombre),o(),u(" ",y(11,10,c.dependencia.nombre,20)," "),o(4),u(" ",c.tipoOrdenServicio.descripcion," "),o(2),a("ngClass",j(13,ve,c.estadoOrden==="Pendiente",c.estadoOrden==="Rechazada",c.estadoOrden==="Completada",c.estadoOrden==="En proceso")),o(),u(" ",c.estadoOrden," "),o(3),a("routerLink",M(18,ue,c.id))}}function he(i,r){i&1&&(e(0,"tr",55),d(1," a "),t(),e(2,"tr",56)(3,"td",57),d(4," No se encontraron solicitudes "),t()())}var _e=(i,r,c)=>({itemsPerPage:i,currentPage:r,totalItems:c}),$e=(()=>{let r=class r{constructor(m,v,n,p){this.dataService=m,this.authService=v,this.alertService=n,this.ordenesServicioToTecnicosService=p,this.relaciones=[],this.ordenes=[],this.filtro={activo:"true",parametro:"",estado:"Pendiente"},this.ordenar={direccion:"desc",columna:"ordenServicioId"},this.totalItems=0,this.paginaActual=1,this.cantidadItems=10}ngOnInit(){this.dataService.ubicacionActual="Dashboard - Listado de solicitudes",this.listarOrdenes()}listarOrdenes(){this.alertService.loading(),this.ordenesServicioToTecnicosService.listarOrdenesTecnicos({columna:this.ordenar.columna,direccion:this.ordenar.direccion,tecnico:this.authService.usuario.userId,parametro:this.filtro.parametro,activo:"true"}).subscribe({next:({ordenesToTecnicos:m,totalItems:v})=>{this.totalItems=v,this.relaciones=m,console.log(this.relaciones),this.ordenes=[],m.map(({ordenServicio:n})=>{this.ordenes.push(n)}),this.alertService.close()},error:({error:m})=>this.alertService.errorApi(m.message)})}filtrarActivos(m){this.paginaActual=1,this.filtro.activo=m}filtrarParametro(m){this.paginaActual=1,this.filtro.parametro=m}ordenarPorColumna(m){this.ordenar.columna=m,this.ordenar.direccion=this.ordenar.direccion=="asc"?"desc":"asc",this.alertService.loading(),this.listarOrdenes()}cambiarPagina(m){this.paginaActual=m,this.listarOrdenes()}};r.\u0275fac=function(v){return new(v||r)(_(Z),_(V),_(R),_(W))},r.\u0275cmp=b({type:r,selectors:[["app-mi-bandeja"]],standalone:!0,features:[k],decls:86,vars:26,consts:[[1,"md:max-w-7xl","mx-auto"],[1,"container","mx-auto"],[1,"flex","items-center","justify-between","bg-gray-800","px-4","py-3","rounded-t"],[1,"ml-2","text-white"],[1,"text-xl","md:text-2xl","leading-tight"],["title","Nueva orden","routerLink","/dashboard/ordenServicio/nueva",1,"boton-nuevo-header"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","d","M12 4.5v15m7.5-7.5h-15"],[1,"md:flex","md:items-center","md:justify-between","px-4","py-2"],[1,"my-2","flex","sm:flex-row","flex-col"],[1,"flex","flex-row","mb-1","sm:mb-0"],[1,"relative"],[1,"block","relative"],[1,"h-full","absolute","inset-y-0","left-0","flex","items-center","pl-2"],["viewBox","0 0 24 24",1,"h-4","w-4","fill-current","text-gray-500","cursor-pointer","hover:text-secondary-500"],["d","M10 4a6 6 0 100 12 6 6 0 000-12zm-8 6a8 8 0 1114.32 4.906l5.387 5.387a1 1 0 01-1.414 1.414l-5.387-5.387A8 8 0 012 10z"],["placeholder","Buscar",1,"appearance-none","rounded-r","rounded-l","sm:rounded-l-none","border","border-gray-400","border-b","block","pl-8","pr-6","py-2","w-full","bg-white","text-sm","placeholder-gray-400","text-gray-700","focus:bg-white","focus:placeholder-gray-600","focus:text-gray-700","focus:outline-none",3,"ngModel","ngModelChange","change"],[1,"bg-white","text-sm","focus:outline-none","w-max","px-2","py-2","md:py-0","md:ml-2","mt-2","md:mt-0","border","text-gray-600","border-gray-400","rounded",3,"ngModel","change","ngModelChange"],["value","10"],["value","20"],["value","50"],["value","100"],[1,"px-4","py-2","overflow-x-auto"],[1,"inline-block","max-h-96","overflow-y-auto","min-w-full","pb-5"],[1,"min-w-full","leading-normal"],[1,"border"],[1,"px-5","border-b-2","border-gray-200","bg-gray-100","text-sm","font-semibold","text-gray-900","tracking-wider"],[1,"cursor-pointer","w-max","flex","items-center","justify-center","focus:outline-none",3,"click"],[1,"ml-2"],["width","15","height","15","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","class","feather feather-chevron-down",4,"ngIf"],["width","15","height","15","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","class","feather feather-chevron-up",4,"ngIf"],["width","15","height","15","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","class","feather feather-minus",4,"ngIf"],[1,"px-5","py-2","border-b-2","border-gray-200","bg-gray-100","text-left","text-sm","font-semibold","text-gray-900","tracking-wider"],[1,"cursor-pointer","flex","items-center","focus:outline-none",3,"click"],[1,"ml-2","text-gray-600"],[1,"px-5","border-b-2","border-gray-200","bg-gray-100","text-center","text-sm","font-semibold","text-gray-900","tracking-wider"],[1,"px-5","py-5","mt-4","text-sm","bg-white","border-t","flex","shadow","flex-col","xs:flex-row","items-center","xs:justify-between"],["nextLabel","Siguiente","previousLabel","Anterior",3,"pageChange"],["width","15","height","15","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-chevron-down"],["points","6 9 12 15 18 9"],["width","15","height","15","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-chevron-up"],["points","18 15 12 9 6 15"],["width","15","height","15","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-minus"],["x1","5","y1","12","x2","19","y2","12"],[1,"animate__animated","animate__fadeIn"],[1,"px-5","py-2","border-b","border-gray-200","text-xs"],[1,"text-gray-900","whitespace-no-wrap"],[1,"text-gray-900","w-max","whitespace-no-wrap",3,"title"],[1,"text-gray-900","w-max","whitespace-no-wrap"],[1,"text-white","w-max","whitespace-no-wrap","p-1","rounded",3,"ngClass"],[1,"px-5","py-2","border-b","border-gray-200","text-xs","text-center"],[1,"flex","items-center","justify-center","text-gray-900","whitespace-no-wrap"],["title","Detalles de solicitud",1,"p-2","bg-purple-600","text-white","rounded","hover:opacity-90","ml-2",3,"routerLink"],["stroke-linecap","round","stroke-linejoin","round","d","M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"],["stroke-linecap","round","stroke-linejoin","round","d","M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"],[1,"p-4","text-white"],[1,"w-full"],["colspan","6",1,"text-gray-500","text-sm","p-2","border","border-gray-300","text-center","bg-gray-50","mt-4"],["class","animate__animated animate__fadeIn"]],template:function(v,n){v&1&&(e(0,"div",0)(1,"app-tarjeta-lista")(2,"div",1)(3,"div")(4,"div",2)(5,"div",3)(6,"h2",4),d(7," Mi Bandeja "),t(),e(8,"p"),d(9),t()(),e(10,"div")(11,"button",5),s(),e(12,"svg",6),l(13,"path",7),t()()()(),x(),e(14,"div",8)(15,"div",9)(16,"div",10),l(17,"div",11),t(),e(18,"div",12)(19,"span",13),s(),e(20,"svg",14),l(21,"path",15),t()(),x(),e(22,"input",16),g("ngModelChange",function(h){return n.filtro.parametro=h})("change",function(){return n.cambiarPagina(1)}),t()(),e(23,"select",17),g("change",function(){return n.cambiarPagina(1)})("ngModelChange",function(h){return n.cantidadItems=h}),e(24,"option",18),d(25," 10 elementos "),t(),e(26,"option",19),d(27," 20 elementos "),t(),e(28,"option",20),d(29," 50 elementos "),t(),e(30,"option",21),d(31," 100 elementos "),t()()()(),e(32,"div",22)(33,"div",23)(34,"table",24)(35,"thead")(36,"tr",25)(37,"th",26)(38,"div",27),g("click",function(){return n.ordenarPorColumna("ordenServicioId")}),e(39,"span"),d(40," Numero "),t(),e(41,"span",28),f(42,Y,2,0,"svg",29)(43,ee,2,0,"svg",30)(44,te,2,0,"svg",31),t()()(),e(45,"th",26)(46,"div",27),g("click",function(){return n.ordenarPorColumna("ordenServicio.createdAt")}),e(47,"span"),d(48," Fecha y hora "),t(),e(49,"span",28),f(50,ne,2,0,"svg",29)(51,ie,2,0,"svg",30)(52,re,2,0,"svg",31),t()()(),e(53,"th",32)(54,"div",33),g("click",function(){return n.ordenarPorColumna("ordenServicio.dependencia.nombre")}),e(55,"span"),d(56," Dependencia "),t(),e(57,"span",34),f(58,oe,2,0,"svg",29)(59,ae,2,0,"svg",30)(60,le,2,0,"svg",31),t()()(),e(61,"th",32)(62,"div",33),g("click",function(){return n.ordenarPorColumna("ordenServicio.tipoOrdenServicio.descripcion")}),e(63,"span"),d(64," Tipo "),t(),e(65,"span",34),f(66,de,2,0,"svg",29)(67,se,2,0,"svg",30)(68,me,2,0,"svg",31),t()()(),e(69,"th",35)(70,"div",33),g("click",function(){return n.ordenarPorColumna("activo")}),e(71,"span"),d(72," Estado "),t(),e(73,"span",28),f(74,ce,2,0,"svg",29)(75,pe,2,0,"svg",30)(76,ge,2,0,"svg",31),t()()(),e(77,"th",35),d(78," Acci\xF3n "),t()()(),e(79,"tbody"),w(80,fe,24,20,"tr",58,X,!1,he,5,0),S(83,"paginate"),t()()()()(),e(84,"div",36)(85,"pagination-controls",37),g("pageChange",function(h){return n.cambiarPagina(h)}),t()()()()()),v&2&&(o(9),u(" Total de solicitudes: ",n.totalItems," "),o(13),a("ngModel",n.filtro.parametro),o(),a("ngModel",n.cantidadItems),o(19),a("ngIf",n.ordenar.columna=="ordenServicioId"&&n.ordenar.direccion=="asc"),o(),a("ngIf",n.ordenar.columna=="ordenServicioId"&&n.ordenar.direccion=="desc"),o(),a("ngIf",n.ordenar.columna!="ordenServicioId"),o(6),a("ngIf",n.ordenar.columna=="ordenServicio.createdAt"&&n.ordenar.direccion=="asc"),o(),a("ngIf",n.ordenar.columna=="ordenServicio.createdAt"&&n.ordenar.direccion=="desc"),o(),a("ngIf",n.ordenar.columna!="ordenServicio.createdAt"),o(6),a("ngIf",n.ordenar.columna=="ordenServicio.dependencia.nombre"&&n.ordenar.direccion=="asc"),o(),a("ngIf",n.ordenar.columna=="ordenServicio.dependencia.nombre"&&n.ordenar.direccion=="desc"),o(),a("ngIf",n.ordenar.columna!="ordenServicio.dependencia.nombre"),o(6),a("ngIf",n.ordenar.columna=="ordenServicio.tipoOrdenServicio.descripcion"&&n.ordenar.direccion=="asc"),o(),a("ngIf",n.ordenar.columna=="ordenServicio.tipoOrdenServicio.descripcion"&&n.ordenar.direccion=="desc"),o(),a("ngIf",n.ordenar.columna!="ordenServicio.tipoOrdenServicio.descripcion"),o(6),a("ngIf",n.ordenar.columna=="activo"&&n.ordenar.direccion=="asc"),o(),a("ngIf",n.ordenar.columna=="activo"&&n.ordenar.direccion=="desc"),o(),a("ngIf",n.ordenar.columna!="activo"),o(4),C(y(83,19,n.ordenes,E(22,_e,n.cantidadItems,n.paginaActual,n.totalItems))))},dependencies:[P,T,B,z,D,H,G,N,F,L,Q,U,K,q,J,O,A,$],encapsulation:2});let i=r;return i})();export{$e as default};
